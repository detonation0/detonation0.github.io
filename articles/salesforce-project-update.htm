<!DOCTYPE html>
<html>
  <head>
    <script src="../assets/js/pace.min.js"></script>
    <link href="../assets/css/pace-theme-minimal.css" rel="stylesheet" />

    <!-- Meta -->
    <meta name="robots" content="index, follow">
    
    <title>Salesforce Project Update | Detonation Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="description" content="" /><meta name="keywords" content="salesforce, asu, arizona state university, visualforce, apex, knowledge base, service, case, mathew ruff, ruff, detonation blog, ,">

    <!-- Bootstrap -->
    <link href="../assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="../style.css" rel="stylesheet">
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <!-- Favicon -->
    <link rel="shortcut icon" href="../favicon.ico">

  </head>

  <body>


    <!-- Docs master nav 
    ======================================-->
    <header class="navbar navbar-default navbar-fixed-top" role="banner">
        <div class="container">
            <div class="navbar-header">
                <button class="navbar-toggle pull-left" style="margin-left:7px;" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            <img src="../images/bomb.png" class="pull-left" style="height:45px; width:45px; padding-top:6px;
            margin-right:4px; margin-left:3px;" />
            <a href="../index.html" class="navbar-brand" style="font-size:11pt">DETONATION<b style="color:#999999;">BLOG</b></a>
            <a href="http://detonation0.github.io/rss.xml"><span style="color:#fff;font-size:16pt;position:fixed; top:15px;right:15px;" class="fa fa-rss pull-right"></span></a>
            </div>
            <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="../index.html">Blog Posts</a>
                    </li>
                    <li>
                        <a href="../about.htm">Site Info</a>
                    </li>
                    <li>
                        <a href="../resume.htm">Resume</a>
                    </li>
                    <li>
                        <a href="../portfolio.htm">Portfolio</a>
                    </li>
                    <li>
                        <a href="../music.htm">My Music</a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="container">

      <!-- Content Goes Here -->
      <h1>Salesforce Project Update</h1>
      <p>Posted on September 1, 2014<br />
      <a href="//plus.google.com/+MathewRuff?rel=author">By Mathew Ruff</a></p>
        
    <a href="../articles/images/SalesforceProjectUpdate_9.1.14/serviceCenterHomepage.png" target="_blank"><img src="../articles/images/SalesforceProjectUpdate_9.1.14/serviceCenterHomepage.png" alt="Service Center Home Page" class="img-responsive center" style="width:600px;max-width:100%;"/></a>
        
    <p>I've been working hard on the ASU Service Center recently and I wanted to take a moment and write about some of the updates I've added. The original scope of the project was to build a site in Visualforce that would allow students to interact with the ASU Knowledge Base and view their open and closed cases. Since the project went live back in July, we’ve made a lot of changes to it.</p>
        
    <p>The majority of changes I’ve worked on were mobile responsive based. I wanted to make sure that this site was completely mobile friendly and looked and acted the same on whatever device you used. This was specifically difficult for the iPhone 5. Because of the phones small screen size, an extra set of media queries had to go into my .css files in order to compensate for it. Using Bootstrap 3 by itself was a major upgrade to the layout of the site. The framework accounted for the majority of devices out there and all I had to do was add the queries in for the iPhone. Spending my time working on the .css paid off, I’m now getting some really great styles on mobile devices and I’m really happy with the overall look and feel of the site.</p>
        
    <div class="row">
        <div class="col-sm-4"><a href="../articles/images/SalesforceProjectUpdate_9.1.14/iOS%20Simulator%20Screen%20shot%20Aug%2025,%202014,%2011.11.44%20AM_iphone5c_red_portrait.png" target="_blank"><img src="../articles/images/SalesforceProjectUpdate_9.1.14/iOS%20Simulator%20Screen%20shot%20Aug%2025,%202014,%2011.11.44%20AM_iphone5c_red_portrait.png" alt="iOS Red Image" class="img-responsive"/></a></div>
        <div class="col-sm-4"><a href="../articles/images/SalesforceProjectUpdate_9.1.14/iOS%20Simulator%20Screen%20shot%20Aug%2025,%202014,%2011.48.15%20AM_iphone5c_blue_portrait.png" target="_blank"><img src="../articles/images/SalesforceProjectUpdate_9.1.14/iOS%20Simulator%20Screen%20shot%20Aug%2025,%202014,%2011.48.15%20AM_iphone5c_blue_portrait.png" alt="iOS Blue Image" class="img-responsive"/></a></div>
        <div class="col-sm-4"><a href="../articles/images/SalesforceProjectUpdate_9.1.14/iOS%20Simulator%20Screen%20shot%20Aug%2025,%202014,%2011.50.23%20AM_iphone5c_yellow_portrait.png" target="_blank"><img src="../articles/images/SalesforceProjectUpdate_9.1.14/iOS%20Simulator%20Screen%20shot%20Aug%2025,%202014,%2011.50.23%20AM_iphone5c_yellow_portrait.png" alt="iOS Yellow Image" class="img-responsive"/></a></div>
    </div>
        
    <p>We’ve also added the ability for students to view the email conversations they’ve had back and forth with the service agent right into the Service Center. I’ve accomplished this by querying the EmailMessage object associated with the id of the case they are viewing. Originally we had (in development) input boxes for students to enter comments on the case and interact with the agent directly on the page. Ultimately we decided not to implement this because we didn’t have a way to ping the specific agent that started the case when a student posted a comment. Nor did we have a way of letting the student know if the agent responded on the case page in the Service Center. Because of this, we decided it would be better to just continue utilizing the email messages back and forth and create a place for the student to view them at all times on the Service Center. Now we don’t have to worry about messages getting lost somewhere. Because these email messages can be very long if they have replies, I’ve also used jQuery to shorten the messages to 255 characters and added a ‘Show More’ link to each message. If the student wants to see the complete message, all they have to do is click the link and jQuery will animate the element and show the entire message. They can then click ‘Show Less’ to hide it again. This is very useful when the student is viewing the page on mobile so they don’t have to scroll through tons of vertical messages. (Bacon Ipsum for testing <i class="fa fa-smile-o"></i>)</p>
        
    <a href="../articles/images/SalesforceProjectUpdate_9.1.14/emailMessageGif.gif" target="_blank"><img src="../articles/images/SalesforceProjectUpdate_9.1.14/emailMessageGif.gif" class="img-responsive" style="width:600px;max-width:100%;margin-right:auto;margin-left:auto;"/></a>
        
    <p>The case details page also now supports viewing of the case’s attached files. The student can also upload a new file to the case at any time. Along with this functionality, the student has the option to upload a file to the case while creating a new case. So for example if the student is having a technical problem, they can upload a screenshot of the problem while they are creating a case explaining the issue. This functionality is hinged on an <apex:input/> tag and an Apex INSERT into the CaseAttachment object assigned to the case.</p>
        
    <p>I also found a security issue in Visualforce on the view case page. My understanding of the way cases worked, was students weren’t supposed to see cases that their contact was not assigned to, but this isn’t the case. If a student gives another student their case id and they put it into their URL, then they will be able to see the other student’s case. I was able to fix this issue with an Apex PageReference to the custom error page I built by querying for their contact and checking it against the contact associated with the case. If they are not associated with the current case, then they are redirected to the error page and told to return to the Service Center. I’m happy to report that this is working great in my testing.</p>
        
    <p>A lot of changes have happened to the project over the past few months, and we are continuing to analyze the project and make recommendations and changes. We value service here at ASU and will continue to improve and perfect our Salesforce installation. I am proud to be on this team and look forward to our future endeavors.</p>
        
        
    

      <p>
        <br />
        <!-- AddToAny BEGIN -->
        <div class="a2a_kit a2a_kit_size_32 a2a_default_style">
        <a class="a2a_button_facebook"></a>
        <a class="a2a_button_twitter"></a>
        <a class="a2a_button_google_plus"></a>
        <a class="a2a_button_evernote"></a>
        <a class="a2a_button_linkedin"></a>
        </div>
        <script type="text/javascript" src="//static.addtoany.com/menu/page.js"></script>
        <!-- AddToAny END -->
      </p>
    
    
    <hr>

    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'detonation0'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    <hr>




    <footer style="padding-top:6px;">
      <div class="container">
        <div class="row">
          <div class="btn-group">
              <button type="button" class="btn btn-sm btn-primary dropdown-toggle" data-toggle="dropdown">
                  Social &nbsp;<span class="glyphicon glyphicon-chevron-up"></span>
              </button>
              <ul class="dropdown-menu drop-up" role="menu">
                  <li><a href="https://www.facebook.com/mat.ruff" target="_blank">
                      Facebook<div class="fa fa-facebook-square pull-right" style="color:#49639e"></div></a></li>
                  <li><a href="https://plus.google.com/118219240898003217231/posts" target="_blank">Google+<div class="fa fa-google-plus-square pull-right" style="color:#dd4b39"></div></a></li>
                  <li><a href="https://twitter.com/detonation0" target="_blank">Twitter<div class="fa fa-twitter-square pull-right" style="color:#55acee"></div></a></li>
                  <li><a href="http://www.linkedin.com/pub/mathew-ruff/63/27b/a1a/" target="_blank">LinkedIn<div class="fa fa-linkedin-square pull-right" style="color:#4875B4"></div></a></li>
                  <li><a href="http://www.youtube.com/user/metalhead8122?feature=mhee" target="_blank">YouTube<div class="fa fa-youtube-play pull-right" style="color:#b31217;width:14px;"></div></a></li>
              </ul>
          </div>
          <div class="footerCopyright" style="display:block;padding-top:8px;">&copy; <small>MATHEW<b style="color:#666666;">RUFF</b></small> 2014</div>
        </div>
           
        <div class="fab blue hideme back-to-top">
          <span class="glyphicon glyphicon-chevron-up" style="margin-left:19px;padding-top:16px;font-size:14pt;"></span>
        </div>
      </div>
    </footer>
    </div> <!-- /container -->
    <br />


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="../assets/js/bootstrap.min.js"></script>
    
    <!-- Autohide Navbar -->
    <script src="../assets/js/jquery.bootstrap-autohidingnavbar.js"></script>
    <script>$(".navbar-fixed-top").autoHidingNavbar();</script>
    
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-53452419-1', 'auto');
        ga('send', 'pageview');

    </script>
    
    <script>
        jQuery(document).ready(function() {
        var duration = 1500;

        jQuery('.back-to-top').click(function(event) {
            event.preventDefault();
            jQuery('html, body').animate({scrollTop: 0}, duration);
            return false;
            })
        });
    </script>
    
    <script>
        $(function(){
            $(document).on( 'scroll', function(){
                if ($(window).scrollTop() > 350) {
                    $('.hideme').addClass('show');
                }
                else {
                    $('.hideme').removeClass('show');
                }
            });
        });
    </script>
  </body>
</html>